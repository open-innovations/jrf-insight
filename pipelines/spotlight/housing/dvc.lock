schema: '2.0'
stages:
  transform:
    cmd: papermill rental_prices.ipynb ../../../data/_working/output/rental_prices.ipynb
    deps:
    - path: ../../../pipelines/spotlight/housing/rental_prices.ipynb
      hash: md5
      md5: cd2bb8f986d57ce5b11cf92f9ab0a1c9
      size: 1611
    outs:
    - path: ../../../data/rental-prices/most_recent_rental_prices.csv
      hash: md5
      md5: 99c16fc35bb177685d0f9458bb550c60
      size: 19047
      isexec: true
  earnings-rent-ratio:
    cmd: papermill rents_to_earnings.ipynb ../../../data/_working/output/rents_to_earnings.ipynb
    deps:
    - path: ../../../data/ashe/weekly-earnings.csv
      hash: md5
      md5: a218dcd7cc849d51ee58b5215840e267
      size: 29390
    - path: ../../../pipelines/spotlight/housing/rents_to_earnings.ipynb
      hash: md5
      md5: 0de406a335fc9261a9161c5505648f52
      size: 15237
    outs:
    - path: ../../../data/ashe/rent-earning-ratio.csv
      hash: md5
      md5: 12271825770cb06011a11e0c1f9f8226
      size: 4615
  rental-prices:
    cmd: papermill rental_prices.ipynb ../../../data/_working/output/rental_prices.ipynb
    deps:
    - path: ../../../pipelines/spotlight/housing/rental_prices.ipynb
      hash: md5
      md5: 63c44850f21016a8a93b8646c4b77f19
      size: 1962
    outs:
    - path: ../../../data-mart/rental-prices/most_recent_rental_prices.parquet
      hash: md5
      md5: 9b5e66392a53cd5db3e0688859e87dbe
      size: 14338
  dwellings:
    cmd: papermill dwelling_stock.ipynb ../../../data/_working/output/dwelling_stock.ipynb
    deps:
    - path: ../../../data-raw/dwelling-stock/subnationaldwellingstockbytenure2021.xlsx
      hash: md5
      md5: 050558ac46525d9e8ad678492d95ea37
      size: 812366
    - path: ../../../pipelines/spotlight/housing/dwelling_stock.ipynb
      hash: md5
      md5: 3ac2401eaef4759c50488a86a2ee5dda
      size: 2415
    outs:
    - path: ../../../data-mart/dwelling-stock/dwelling-stock.parquet
      hash: md5
      md5: 3aa0d2101d3bc59ef54203f5a282427a
      size: 97998
  download-files:
    cmd: python get-files.py
    deps:
    - path: get-files.py
      hash: md5
      md5: 506ce06c844a1ef662bf14d5bc549acb
      size: 565
    outs:
    - path: ../../../data-raw/dwelling-stock/subnationaldwellingstockbytenure2021.xlsx
      hash: md5
      md5: 050558ac46525d9e8ad678492d95ea37
      size: 812366
