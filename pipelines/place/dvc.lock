schema: '2.0'
stages:
  transform:
    cmd: papermill transform.ipynb output/transform.ipynb
    deps:
    - path: ../../data/clif/clif_REL.csv
      hash: md5
      md5: 316de9b77ab78697531e257e1b4796e0
      size: 5373056
    - path: ../../data/council-tax-support/council-tax-support.csv
      hash: md5
      md5: fffeea84d7fd68f7b53bbfca961cb490
      size: 1505855
    - path: ../../data/geo/geography_tree.csv
      hash: md5
      md5: c68705a0b318f859e5ec0ad49851e1ac
      size: 59478
    - path: ../../data/population-estimates/population-estimates.csv
      hash: md5
      md5: bf1451d5a25a965e894339acccde6f8d
      size: 679232
    - path: geo.py
      hash: md5
      md5: 83af2d3c5fa6cb3e594c1187fb6f069a
      size: 2998
    - path: params.py
      hash: md5
      md5: d3177529e31b0f867d78c9815e50b36a
      size: 127
    - path: places.yaml
      hash: md5
      md5: 4cc762ec55f3b34b4232e67a9c63fe15
      size: 19740
    - path: transform.ipynb
      hash: md5
      md5: 943f7b193d6ec2b4ac3243bfb1c295fa
      size: 5843
    outs:
    - path: ../../data/interim/place_data.json
      hash: md5
      md5: 341736e9677c6492c4103c4c540ebb31
      size: 760313
      isexec: true
    - path: ../../data/interim/place_data.parquet
      hash: md5
      md5: c5c82b91dc270841e36afd1728b4e77a
      size: 87396
      isexec: true
  transform-geojson:
    cmd: papermill geojson.ipynb output/geojson.ipynb
    deps:
    - path: ../../data/geo/cauth22.geojson
      hash: md5
      md5: 6db885452e56eb6b301859e0c423e706
      size: 19881
    - path: ../../data/geo/cty22.geojson
      hash: md5
      md5: 670beefda2e49b2ecd46bfd4b0e580f4
      size: 16987
    - path: ../../data/geo/lad22.geojson
      hash: md5
      md5: c213491edc43871fbd017602c9ab3a22
      size: 88055
    - path: ../../data/geo/panrgn22.geojson
      hash: md5
      md5: 3e86e6383e74981d0749fc69c280080f
      size: 16720
    - path: ../../data/geo/rgn22.geojson
      hash: md5
      md5: 06968fc12ab18e1d3038e483d7a0a0bd
      size: 28695
    - path: ../../data/geo/wd22.geojson
      hash: md5
      md5: f83236903ab1f140153554170fe3ffed
      size: 962164
    - path: geojson.ipynb
      hash: md5
      md5: 25f28063069f2899c5033eae443fda88
      size: 5894
    - path: loaders.py
      hash: md5
      md5: 8cfb8a3324f7815452d2c67270b7cc20
      size: 610
    - path: params.py
      hash: md5
      md5: d3177529e31b0f867d78c9815e50b36a
      size: 127
    outs:
    - path: ../../data/interim/shapes.parquet
      hash: md5
      md5: c38a063053d64182e5d08d6a519268c1
      size: 514139
      isexec: true
  generate-list:
    cmd: python generate-list.py
    deps:
    - path: ../../data/interim/shapes.parquet
      hash: md5
      md5: c38a063053d64182e5d08d6a519268c1
      size: 514139
    - path: generate-list.py
      hash: md5
      md5: 49229227f6f5dea59a4b0a5b21cbc96b
      size: 315
    - path: params.py
      hash: md5
      md5: d3177529e31b0f867d78c9815e50b36a
      size: 127
    outs:
    - path: places.yaml
      hash: md5
      md5: 4cc762ec55f3b34b4232e67a9c63fe15
      size: 19740
      isexec: true
  prepare-batch:
    cmd: python batch.py
    deps:
    - path: ../../data/interim/place_data.parquet
      hash: md5
      md5: c5c82b91dc270841e36afd1728b4e77a
      size: 87396
    - path: ../../data/interim/shapes.parquet
      hash: md5
      md5: c38a063053d64182e5d08d6a519268c1
      size: 514139
    - path: batch.py
      hash: md5
      md5: f162304b0441d2c1ad7e5db129cf103c
      size: 537
    - path: params.py
      hash: md5
      md5: d3177529e31b0f867d78c9815e50b36a
      size: 127
    - path: places.yaml
      hash: md5
      md5: 4cc762ec55f3b34b4232e67a9c63fe15
      size: 19740
    - path: prepare.py
      hash: md5
      md5: 4de28791b208207b4d9db7c8c0cba54c
      size: 2375
    outs:
    - path: ../../src/place/
      hash: md5
      md5: 556f9e55a5104a320e06023eb4f0ff95.dir
      size: 2525303
      nfiles: 4936
