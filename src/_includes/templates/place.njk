---
layout: ./page.njk
tags:
  - place
---

<p>
This is a mockup place page for {{ name }} ({{ key }}).
</p>

<h2>Spotlight navigation</h2>

{% for spotlight in spotlights %}
<a href="/spotlight/{{ spotlights }}/{{ key }}/">{{ spotlight }}</a>
{% endfor %}

<h2>Geography navigation</h2>

{{ comp.zoom.geo({ place_list: parents, heading: 'Containing geographies' }) | safe }}

{% if place.children %}
{% for place_type in place.children | keys %}
{{ comp.zoom.geo({ place_list: place.children[place_type], heading: ref.geo.types[place_type] or place_type }) | safe }}
{% endfor %}
{% endif %}

{% set geojson_key = places[key].geojson_filename %}
{% if geojson_key and geojson[geojson_key]%}
{{ comp.oi.map.zoomable({
        config: {
          data: place_data[key].council_tax_support.rows,
          geojson: 
          {
            key: "RGN20CD",
            data: geojson[geojson_key]
          },
          columns: [{
            name: "label",
            template: "{{geography_code}}: {{council_tax_support | toLocaleString()}}"
          }],
          key: "geography_code",
          value: "council_tax_support",
          scale: "Viridis",
          min: 400000,
          max: 600000,
          tooltip: "label",
          legend:
          {
            position: "top right",
            items: [{
                value: 600000,
                label: '600k'},
                {
                value: 500000,
                label: '500k'},
                {
                value: 400000,
                label: '400k'
            }]
          }
        }
    }
  ) | safe }}
{% endif %}